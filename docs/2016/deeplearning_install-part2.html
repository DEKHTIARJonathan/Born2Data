<!DOCTYPE html>
<html lang="en">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">


		<title>Deep Learning Installation Tutorial - Part 2 - Caffe and DIGITS</title>


            <link href="feed_atom.xml" type="application/atom+xml" rel="alternate" title="Born2Data Full Atom Feed" />
            <link href="feed_rss.xml" type="application/rss+xml" rel="alternate" title="Born2Data Full RSS Feed" />

    <!-- Bootstrap Core CSS -->
	<link href="theme/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link href="theme/css/clean-blog.min.css" rel="stylesheet">

	<!-- Code highlight color scheme -->
		<link href="{ THEME_STATIC_DIR }}/css/code_blocks/github.css" rel="stylesheet">
	<link href="theme/css/better_codeblock.css" rel="stylesheet">



		<!-- FAVICON specified by the user -->
		<link rel="icon" type="image/png" href="images/favicon.png" />

	<!-- Custom Fonts -->
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->



        <meta name="description" content="How to install Caffe and DIGITS">

        <meta property="article:author" content="https://www.born2data.com/author/jonathan-dekhtiar.html">

        <meta name="tags" content="Deep Learning">
        <meta name="tags" content="Python">
        <meta name="tags" content="Tutorial">
        <meta name="tags" content="Installation">
        <meta name="tags" content="Machine Learning">
        <meta name="tags" content="Caffe">
        <meta name="tags" content="DIGITS">
        <meta name="tags" content="NVIDIA">

	                <meta property="og:locale" content="">
		<meta property="og:site_name" content="Born2Data">

	<meta property="og:type" content="article">
            <meta property="article:author" content="Jonathan DEKHTIAR" >
	<meta property="og:url" content="/2016/deeplearning_install-part2.html">
	<meta property="og:title" content="Deep Learning Installation Tutorial - Part 2 - Caffe and DIGITS">
	<meta property="article:published_time" content="2016-10-13 10:15:00+02:00">
            <meta property="og:description" content="How to install Caffe and DIGITS">

            <meta property="og:image" content="/theme/images/post-bg.jpg">
            <meta name="twitter:card" content="summary" />
            <meta name="twitter:image" content="/theme/images/post-bg.jpg">
        <meta name="twitter:site" content="@@born2data" />
        <meta name="twitter:title" content="Deep Learning Installation Tutorial - Part 2 - Caffe and DIGITS" />
            <meta name="twitter:description" content="How to install Caffe and DIGITS" />
            <meta name="twitter:image" content="/theme/images/post-bg.jpg">
</head>

<body>



	<!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Born2Data</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                        <li><a href="/">HOME</a></li>
                        <li><a href="https://www.feedcrunch.io/@dataradar">FeedCrunch.io</a></li>
                        <li><a href="https://www.jonathandekhtiar.eu">RESUME</a></li>
                        <li><a href="http://www.utc.fr/~jdekhtia/dev/">RESEARCH</a></li>
                        <li><a href="/pages/contact.html">CONTACT</a></li>

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>


    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('/theme/images/post-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-md-12 col-xs-12 col-lg-12">
                    <div class="post-heading">
                        <h1>Deep Learning Installation Tutorial - Part 2 - Caffe and DIGITS</h1>
                        <h3 class="subheading">How to install Caffe and DIGITS</h3>
                        <span class="meta">Posted by
                                <a href="/author/jonathan-dekhtiar.html">Jonathan DEKHTIAR</a>
                             on Thursday, 2016 October 13
                        </span>
                        
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-xs-12">
    <!-- Post Content -->
    <article>
        <h1>Deep Learning Installation Tutorial - Index</h1>
<p>Hello everyone, here is a tutorial to quickly install main Deep Learning libraries and set up a complete environment.</p>
<ul>
<li><a href="/2016/deeplearning_install-part1.html"><strong>Part 1 :</strong> Installation - Nvidia Drivers, CUDA, CuDNN</a></li>
<li><a href="/2016/deeplearning_install-part2.html"><strong>Part 2 :</strong> Installation - Caffe and DIGITS</a></li>
<li><a href="#"><strong>Part 3 :</strong> Installation - Tensorflow and Theano (coming soon)</a></li>
<li><a href="#"><strong>Part 4 :</strong> Installation - Keras and Lasagne (coming soon)</a></li>
<li><a href="#"><strong>Part 5 :</strong> Installation - (Nvidia) Docker for Deep Learning (coming soon)</a></li>
</ul>
<hr>
<h1>Deep Learning Installation Tutorial - Part 2 - NVIDIA DIGITS &amp; CAFFE</h1>
<p>There are a few major libraries for Deep Learning applications available â€“ Caffe, Keras, TensorFlow, Theano, and Torch.
These libraries use GPU Computation power to speed up training which can be very long on CPU (+/- 40days for a ConvNet for the ImageNet Dataset).</p>
<p>NVIDIA is definetely the brand to go for Deep Learning applications, and for now, the only well and broadly supported hardware.</p>
<p>In these Tutorials, we will explore how to install and set up an environment to run Deep Learning tasks.</p>
<p>A few useful links :</p>
<ul>
<li><strong>CUDA:</strong> <a href="https://developer.nvidia.com/cuda-zone">https://developer.nvidia.com/cuda-zone</a></li>
<li><strong>CuDNN:</strong> <a href="https://developer.nvidia.com/cudnn">https://developer.nvidia.com/cudnn</a></li>
<li><strong>Caffe:</strong> <a href="http://caffe.berkeleyvision.org/">http://caffe.berkeleyvision.org/</a></li>
<li><strong>DIGITS:</strong> <a href="https://developer.nvidia.com/digits">https://developer.nvidia.com/digits</a></li>
<li><strong>Tensorflow:</strong> <a href="https://www.tensorflow.org/">https://www.tensorflow.org/</a></li>
<li><strong>Theano:</strong> <a href="http://deeplearning.net/software/theano/index.html">http://deeplearning.net/software/theano/index.html</a></li>
<li><strong>Keras:</strong> <a href="https://keras.io/">https://keras.io/</a></li>
<li><strong>Lasagne:</strong> <a href="http://lasagne.readthedocs.io/en/latest/">http://lasagne.readthedocs.io/en/latest/</a></li>
<li><strong>Docker:</strong> <a href="https://www.docker.com/">https://www.docker.com/</a></li>
<li><strong>NVIDIA-DOCKER:</strong> <a href="https://github.com/NVIDIA/nvidia-docker">https://github.com/NVIDIA/nvidia-docker</a></li>
</ul>
<p>In this post, we will install:</p>
<ul>
<li><strong>Caffe:</strong> "Caffe is a deep learning framework made with expression, speed, and modularity in mind." (<a href="http://caffe.berkeleyvision.org/">Source</a>)</li>
<li><strong>DIGITS:</strong></li>
</ul>
<hr>
<h3>A. Installing Caffe</h3>
<p>Main source for this and the following step is the <a href="https://github.com/NVIDIA/DIGITS/blob/master/README.md" target="_blank">readme of the DIGITS project</a>.</p>
<p>If a 404 error shows up, please correct the file name according to this webpage : <a href="http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1404/x86_64" target="_blank">NVIDIA Binaries</a></p>
<p>Run the following commands to get access to the required repositories:</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nv">CUDA_REPO_PKG</span><span class="o">=</span>cuda-repo-ubuntu1404_7.5-18_amd64.deb <span class="o">&amp;&amp;</span></span>
<span class="code-line">    wget http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/<span class="nv">$CUDA_REPO_PKG</span> <span class="o">&amp;&amp;</span></span>
<span class="code-line">    sudo dpkg -i <span class="nv">$CUDA_REPO_PKG</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nv">ML_REPO_PKG</span><span class="o">=</span>nvidia-machine-learning-repo-ubuntu1404_4.0-2_amd64.deb <span class="o">&amp;&amp;</span></span>
<span class="code-line">    wget http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1404/x86_64/<span class="nv">$ML_REPO_PKG</span> <span class="o">&amp;&amp;</span></span>
<span class="code-line">    sudo dpkg -i <span class="nv">$ML_REPO_PKG</span></span>
</pre></div>


<hr>
<h3>B. Let's install DIGITS from package manager</h3>
<p>NVIDIA DIGITS is a web server providing a convenient web interface for training and testing Deep Neural Networks based on caffe. I intend to cover in a future article how to work with caffe. Here I will show you how to set up CUDA</p>
<p>Run the following commands to install DIGITS</p>
<div class="highlight"><pre><span class="code-line"><span></span>sudo apt-get update</span>
<span class="code-line">sudo apt-get upgrade -y </span>
<span class="code-line">sudo apt-get install digits -y</span>
</pre></div>


<p>The installation could be pretty long (I had more than 600Mb of packages to download).</p>
<h4>CUDA repository</h4>
<p>Get access to machine learning packages from NVIDIA by downloading and installing the cuda-repo-ubuntu1404 package (instructions above). You could also get this package by downloading the deb (network) installer from the CUDA downloads website. This provides access to the repository containing packages like cuda-toolkit-7-5 and cuda-toolkit-7-0, etc.</p>
<h4>Machine Learning repository</h4>
<p>Get access to machine learning packages from NVIDIA by downloading and installing the nvidia-machine-learning-repo package (instructions above). This provides access to the repository containing packages like digits, caffe-nv, torch, libcudnn4, etc.</p>
<h4>DIGITS Commands</h4>
<h5>STOP SERVER</h5>
<div class="highlight"><pre><span class="code-line"><span></span>sudo stop nvidia-digits-server</span>
</pre></div>


<h5>START SERVER</h5>
<div class="highlight"><pre><span class="code-line"><span></span>sudo start nvidia-digits-server</span>
</pre></div>


<h5>Troubleshooting</h5>
<p>If you have another server running on port 80 already, you may need to reconfigure DIGITS to use a different port.</p>
<div class="highlight"><pre><span class="code-line"><span></span>sudo dpkg-reconfigure digits</span>
</pre></div>


<p>To make other configuration changes, try this (you probably want to leave most options as "unset" or "default" by hitting ENTER repeatedly):</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">cd</span> /usr/share/digits</span>
<span class="code-line"><span class="c1"># set new config</span></span>
<span class="code-line">sudo python -m digits.config.edit -v</span>
<span class="code-line"><span class="c1"># restart server</span></span>
<span class="code-line">sudo stop nvidia-digits-server</span>
<span class="code-line">sudo start nvidia-digits-server</span>
</pre></div>


<hr>
<h3>C. Let's install DIGITS from sources</h3>
<h4>Prerequisites</h4>
<p>Run the following commands to install Prerequisites</p>
<div class="highlight"><pre><span class="code-line"><span></span>sudo apt-get install python-dev python-pip graphviz -y</span>
<span class="code-line">sudo apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libhdf5-serial-dev protobuf-compiler -y</span>
<span class="code-line">sudo apt-get install --no-install-recommends libboost-all-dev -y</span>
<span class="code-line">sudo apt-get install libatlas-base-dev -y</span>
<span class="code-line">sudo apt-get install python-dev -y</span>
</pre></div>


<h4>Download DIGITS' Sources</h4>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">cd</span> ~</span>
<span class="code-line">git clone https://github.com/NVIDIA/DIGITS.git digits</span>
</pre></div>


<h4>Install DIGITS</h4>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">cd</span> ~/digits</span>
<span class="code-line">sudo pip install -r requirements.txt</span>
<span class="code-line">sudo apt-get install python-pil python-numpy python-scipy python-protobuf python-gevent python-flask python-flaskext.wtf gunicorn python-h5py</span>
<span class="code-line">sudo apt-get install caffe-nv python-caffe-nv <span class="c1"># or build from sources</span></span>
<span class="code-line">sudo apt-get install torch7-nv <span class="c1"># or build from sources</span></span>
</pre></div>


<h4>Development mode</h4>
<div class="highlight"><pre><span class="code-line"><span></span>./digits-devserver</span>
</pre></div>


<p>Starts a development server (werkzeug backend) at http://localhost:5000/.</p>
<div class="highlight"><pre><span class="code-line"><span></span>$ ./digits-devserver --help</span>
<span class="code-line">usage: digits-devserver <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-p PORT<span class="o">]</span> <span class="o">[</span>-c<span class="o">]</span> <span class="o">[</span>-d<span class="o">]</span> <span class="o">[</span>--version<span class="o">]</span></span>
<span class="code-line"></span>
<span class="code-line">Run the DIGITS development server</span>
<span class="code-line"></span>
<span class="code-line">optional arguments:</span>
<span class="code-line">  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span></span>
<span class="code-line">  -p PORT, --port PORT  Port to run app on <span class="o">(</span>default <span class="m">5000</span><span class="o">)</span></span>
<span class="code-line">  -c, --config          Edit the application configuration</span>
<span class="code-line">  -d, --debug           Run the application in debug mode <span class="o">(</span>reloads when the</span>
<span class="code-line">                        <span class="nb">source</span> changes and gives more detailed error messages<span class="o">)</span></span>
<span class="code-line">  --version             Print the version number and <span class="nb">exit</span></span>
</pre></div>


<h4>Production mode</h4>
<div class="highlight"><pre><span class="code-line"><span></span>./digits-server</span>
</pre></div>


<p>Starts a production server (gunicorn backend) at http://localhost:34448.</p>
<p>If you get any errors about an invalid configuration, use the development server first to set your configuration.</p>
<p>If you have installed the nginx.site to /etc/nginx/sites-enabled/, then you can view your app at http://localhost/.</p>
<h4>Troubleshooting</h4>
<p>Most configuration options should have appropriate defaults. If you need to edit your configuration for some reason, try one of these commands:</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="c1"># Set options before starting the server</span></span>
<span class="code-line">./digits-devserver --config</span>
<span class="code-line"><span class="c1"># Advanced options</span></span>
<span class="code-line">python -m digits.config.edit --verbose</span>
</pre></div>
    </article>


	<div>
<hr><b>Category:</b> <i class="fa fa-folder"></i> <a class="folder" href="https://www.born2data.com/category/deep-learning.html">Deep Learning</a><br><br><b>Tags: </b><span class="tag"><i class="fa fa-tags"></i> <a href="https://www.born2data.com/tag/deep-learning.html">Deep Learning&nbsp;</a></span> <span class="tag"><i class="fa fa-tags"></i> <a href="https://www.born2data.com/tag/python.html">Python&nbsp;</a></span> <span class="tag"><i class="fa fa-tags"></i> <a href="https://www.born2data.com/tag/tutorial.html">Tutorial&nbsp;</a></span> <span class="tag"><i class="fa fa-tags"></i> <a href="https://www.born2data.com/tag/installation.html">Installation&nbsp;</a></span> <span class="tag"><i class="fa fa-tags"></i> <a href="https://www.born2data.com/tag/machine-learning.html">Machine Learning&nbsp;</a></span> <span class="tag"><i class="fa fa-tags"></i> <a href="https://www.born2data.com/tag/caffe.html">Caffe&nbsp;</a></span> <span class="tag"><i class="fa fa-tags"></i> <a href="https://www.born2data.com/tag/digits.html">DIGITS&nbsp;</a></span> <span class="tag"><i class="fa fa-tags"></i> <a href="https://www.born2data.com/tag/nvidia.html">NVIDIA&nbsp;</a></span> 	</div>

<hr>
<div class="sharing">
        <!-- AddThis Button BEGIN -->
		
			<!-- Go to www.addthis.com/dashboard to customize your tools -->
			<div class="addthis_native_toolbox"></div>

			<!-- Go to www.addthis.com/dashboard to customize your tools -->
			<script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-56e6dd573663678e"></script>


			
        <!-- AddThis Button END -->
		
</div>
    <hr>

            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <ul class="list-inline text-center">
                            <li>
                                <a href="https://twitter.com/born2data">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/DEKHTIARJonathan">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://fr.linkedin.com/in/jonathandekhtiar">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.feedcrunch.io/@dataradar/rss/">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="mailto:contact@born2data.com">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                    </ul>
<p class="copyright text-muted">
    Blog powered by <a href="http://getpelican.com">Pelican</a>,
    which takes great advantage of <a href="http://python.org">Python</a>.
</p>                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="theme/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="theme/js/bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="theme/js/clean-blog.min.js"></script>

</body>

</html>